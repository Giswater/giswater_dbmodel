/*
This file is part of Giswater 20 (Sao Caetano)
The program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.
This version of Giswater is provided by Giswater Association
*/


SET search_path = "SCHEMA_NAME", public, pg_catalog;

DROP VIEW IF EXISTS v_edit_macrosector CASCADE;
CREATE VIEW v_edit_macrosector AS SELECT DISTINCT on (macrosector_id)
	sector.macrosector_id,
	macrosector.name,
	macrosector.descript,
	macrosector.the_geom,
	macrosector.undelete
FROM inp_selector_sector, sector 
JOIN macrosector ON macrosector.macrosector_id=sector.macrosector_id;
--WHERE ((sector.sector_id)=(inp_selector_sector.sector_id)
--AND inp_selector_sector.cur_user="current_user"());  



DROP VIEW IF EXISTS v_edit_sector CASCADE;
CREATE VIEW v_edit_sector AS SELECT
	sector.sector_id,
	sector.name,
	sector.macrosector_id,
	sector.descript,
	sector.the_geom,
	sector.undelete
FROM inp_selector_sector,sector 
WHERE ((sector.sector_id)=(inp_selector_sector.sector_id)
AND inp_selector_sector.cur_user="current_user"());  


  
  
DROP VIEW IF EXISTS v_edit_dma CASCADE;
CREATE VIEW v_edit_dma AS SELECT
	dma.dma_id,
	dma.name,
	dma.descript,
	dma.the_geom,
	dma.undelete,
	dma.expl_id
	FROM selector_expl, dma 
WHERE ((dma.expl_id)=(selector_expl.expl_id)
AND selector_expl.cur_user="current_user"());
  


-- ----------------------------
-- Editing views structure
-- ----------------------------

DROP VIEW IF EXISTS v_edit_node CASCADE;
CREATE VIEW v_edit_node AS
SELECT 
node_id, 
code,
top_elev, 
custom_top_elev,
ymax,
custom_ymax,
elev,
custom_elev,
elev AS sys_elev,
node_type,
nodecat_id,
cat_matcat_id,
epa_type,
sector_id, 
macrosector_id,
state, 
state_type,
annotation, 
observ, 
comment,
dma_id,
soilcat_id,
function_type,
category_type,
fluid_type,
location_type,
workcat_id,
workcat_id_end,
buildercat_id,
builtdate,
enddate,
ownercat_id,
muni_id,
streetaxis_id,
address_01,
address_02,
address_03,
descript,
cat_svg,
rotation,
link,
verified,
the_geom,
undelete,
label_x,
label_y,
label_rotation,
publish,
inventory,
uncertain,
xyz_date,
unconnected,
macrodma_id,
expl_id,
num_value
FROM v_node;


  
DROP VIEW IF EXISTS v_edit_arc CASCADE;
CREATE VIEW v_edit_arc AS
SELECT 
arc_id, 
code,
node_1,
node_2,
y1, 
custom_y1,
elev1,
custom_elev1,
sys_elev1,
y2,
custom_y2,
elev2,
custom_elev2,
sys_elev2,
z1,
z2,
r1,
r2,
slope,
arc_type,
arccat_id, 
matcat_id AS "cat_matcat_id",
shape AS "cat_shape",
geom1 AS "cat_geom1",
width AS "cat_width",
gis_length,
epa_type,
sector_id, 
macrosector_id,
state, 
state_type,
annotation, 
observ, 
comment,
inverted_slope,
custom_length,
dma_id,
soilcat_id,
function_type,
category_type,
fluid_type,
location_type,
workcat_id,
workcat_id_end,
buildercat_id,
builtdate,
enddate,
ownercat_id,
muni_id,
streetaxis_id,
address_01,
address_02,
address_03,
descript,
link,
verified,
the_geom,
undelete,
label_x,
label_y,
label_rotation,
publish,
inventory,
uncertain,	
macrodma_id,
expl_id,
num_value
FROM v_arc_x_node;



DROP VIEW IF EXISTS v_edit_connec CASCADE;
CREATE OR REPLACE VIEW v_edit_connec AS
SELECT connec.connec_id, 
connec.code,
connec.customer_code,
connec.top_elev, 
connec.y1,
connec.y2,
connec.connecat_id,
connec.connec_type,
connec.private_connecat_id,
cat_connec.matcat_id AS "cat_matcat_id",
connec.sector_id,
sector.macrosector_id,
connec.demand,
connec."state", 
connec.state_type,
connec_depth,
connec_length,
connec.arc_id,
connec.annotation, 
connec.observ, 
connec."comment",
connec.dma_id,
connec.soilcat_id,
connec.function_type,
connec.category_type,
connec.fluid_type,
connec.location_type,
connec.workcat_id,
connec.workcat_id_end,
connec.buildercat_id,
connec.builtdate,
connec.enddate,
connec.ownercat_id,
connec.muni_id,
connec.streetaxis_id,
connec.address_01,
connec.address_02,
connec.address_03,
connec.postnumber,
connec.descript,
cat_connec.svg AS "cat_svg",
connec.rotation,
concat(connec_type.link_path,connec.link) as link,
connec.verified,
connec.the_geom,
connec.undelete,
connec.featurecat_id,
connec.feature_id,
connec.label_x,
connec.label_y,
connec.label_rotation,
connec.accessibility,
connec.diagonal,
connec.publish,
connec.inventory,
connec.uncertain,
dma.macrodma_id,
connec.expl_id,
connec.num_value
FROM connec 
	JOIN v_state_connec ON connec.connec_id=v_state_connec.connec_id
	JOIN cat_connec ON connec.connecat_id = cat_connec.id
	LEFT JOIN ext_streetaxis ON (((connec.streetaxis_id) = (ext_streetaxis.id)))
	LEFT JOIN link ON connec.connec_id = link.feature_id
	LEFT JOIN dma ON connec.dma_id = dma.dma_id
	LEFT JOIN sector ON connec.sector_id = sector.sector_id
	LEFT JOIN connec_type ON connec.connec_type=connec_type.id;




DROP VIEW IF EXISTS v_edit_gully CASCADE;
CREATE OR REPLACE VIEW v_edit_gully AS
SELECT 
gully.gully_id, 
gully.code,
gully.top_elev, 
gully.ymax, 
gully.sandbox,
gully.matcat_id,
gully.gully_type,
gully.gratecat_id,
cat_grate.matcat_id AS "cat_grate_matcat",
gully.units,
gully.groove,
gully.siphon,
gully.connec_arccat_id,
gully.connec_length,
gully.connec_depth,
gully.arc_id,
gully.sector_id, 
sector.macrosector_id,
gully."state", 
gully.state_type,
gully.annotation, 
gully.observ, 
gully."comment",
gully.dma_id,
gully.soilcat_id,
gully.function_type,
gully.category_type,
gully.fluid_type,
gully.location_type,
gully.workcat_id,
gully.workcat_id_end,
gully.buildercat_id,
gully.builtdate,
gully.enddate,
gully.ownercat_id,
gully.muni_id,
gully.streetaxis_id,
gully.postnumber,
gully.address_01,
gully.address_02,
gully.address_03,
gully.descript,
cat_grate.svg AS "cat_svg",
gully.rotation,
concat(gully_type.link_path,gully.link) as link,
gully.verified,
gully.the_geom,
gully.undelete,
gully.featurecat_id,
gully.feature_id,
gully.label_x,
gully.label_y,
gully.label_rotation,
gully.publish,
gully.inventory,
gully.expl_id,
dma.macrodma_id,
gully.uncertain,
gully.num_value
FROM gully
	JOIN v_state_gully ON gully.gully_id=v_state_gully.gully_id 
	LEFT JOIN cat_grate ON (((gully.gratecat_id) = (cat_grate.id)))
	LEFT JOIN ext_streetaxis ON gully.streetaxis_id = ext_streetaxis.id
	LEFT JOIN dma ON gully.dma_id = dma.dma_id
	LEFT JOIN sector ON gully.sector_id = sector.sector_id
	LEFT JOIN gully_type ON gully.gully_type=gully_type.id
	WHERE gully.the_geom is not null;


DROP VIEW IF EXISTS v_edit_gully_pol CASCADE;
CREATE OR REPLACE VIEW v_edit_gully_pol AS
SELECT
gully.gully_id, 
gully.code,
gully.top_elev, 
gully.ymax, 
gully.sandbox,
gully.matcat_id,
gully.gully_type,
gully.gratecat_id,
cat_grate.matcat_id AS "cat_grate_matcat",
gully.units,
gully.groove,
gully.siphon,
gully.connec_arccat_id,
gully.connec_length,
gully.connec_depth,
gully.arc_id,
gully.sector_id, 
sector.macrosector_id,
gully."state", 
gully.state_type,
gully.annotation, 
gully.observ, 
gully."comment",
gully.dma_id,
gully.soilcat_id,
gully.function_type,
gully.category_type,
gully.fluid_type,
gully.location_type,
gully.workcat_id,
gully.workcat_id_end,
gully.buildercat_id,
gully.builtdate,
gully.enddate,
gully.ownercat_id,
gully.muni_id,
gully.streetaxis_id,
gully.postnumber,
gully.address_01,
gully.address_02,
gully.address_03,
gully.descript,
cat_grate.svg AS "cat_svg",
gully.rotation,
concat(gully_type.link_path,gully.link) as link,
gully.verified,
gully.the_geom_pol,
gully.undelete,
gully.featurecat_id,
gully.feature_id,
gully.label_x,
gully.label_y,
gully.label_rotation,
gully.publish,
gully.inventory,
dma.macrodma_id,
gully.expl_id,
gully.uncertain,
gully.num_value
FROM gully
	JOIN v_state_gully ON gully.gully_id=v_state_gully.gully_id 
	LEFT JOIN cat_grate ON (((gully.gratecat_id) = (cat_grate.id)))
	LEFT JOIN ext_streetaxis ON streetaxis_id=ext_streetaxis.id
	LEFT JOIN dma ON gully.dma_id = dma.dma_id
	LEFT JOIN sector ON gully.sector_id = sector.sector_id
	LEFT JOIN gully_type ON gully.gully_type=gully_type.id
	WHERE gully.the_geom_pol is not null;


	
DROP VIEW IF EXISTS v_edit_link;
CREATE OR REPLACE VIEW v_edit_link AS 
 SELECT link.link_id,
    link.feature_type,
    link.feature_id,
    link.exit_type,
	link.exit_id,
        CASE
            WHEN link.feature_type::text = 'CONNEC'::text THEN connec.sector_id
            WHEN link.feature_type::text = 'GULLY'::text THEN gully.sector_id
            ELSE vnode.sector_id
        END AS sector_id,
        CASE
            WHEN link.feature_type::text = 'CONNEC'::text THEN connec.dma_id
            WHEN link.feature_type::text = 'GULLY'::text THEN gully.dma_id
            ELSE vnode.dma_id
        END AS dma_id,
        CASE
            WHEN link.feature_type::text = 'CONNEC'::text THEN connec.expl_id
            WHEN link.feature_type::text = 'GULLY'::text THEN gully.expl_id
            ELSE vnode.expl_id
        END AS expl_id,
	link.state,
    st_length2d(link.the_geom) AS gis_length,
    link.userdefined_geom,
    link.the_geom
   FROM selector_expl,
    selector_state,
    link
     LEFT JOIN connec ON link.feature_id::text = connec.connec_id::text AND link.feature_type::text = 'CONNEC'::text
     LEFT JOIN gully ON link.feature_id::text = gully.gully_id::text AND link.feature_type::text = 'GULLY'::text
     LEFT JOIN vnode ON link.feature_id::text = vnode.vnode_id::text AND link.feature_type::text = 'VNODE'::text
  WHERE connec.expl_id = selector_expl.expl_id AND selector_expl.cur_user = "current_user"()::text  AND connec.state = selector_state.state_id AND selector_state.cur_user = "current_user"()::text 
  OR (gully.expl_id = selector_expl.expl_id AND selector_expl.cur_user = "current_user"()::text AND gully.state = selector_state.state_id AND selector_state.cur_user = "current_user"()::text)
  OR (vnode.expl_id = selector_expl.expl_id AND selector_expl.cur_user = "current_user"()::text AND vnode.state = selector_state.state_id AND selector_state.cur_user = "current_user"()::text)
  ;


 
  
  
DROP VIEW IF EXISTS v_edit_vnode CASCADE;
CREATE VIEW v_edit_vnode AS SELECT
vnode_id,
vnode_type,
vnode.sector_id,
vnode.dma_id,
vnode.state,
annotation,
vnode.the_geom,
vnode.expl_id
FROM selector_expl, selector_state, vnode
	WHERE 
	vnode.expl_id=selector_expl.expl_id AND selector_expl.cur_user="current_user"() AND
	vnode.state=selector_state.state_id AND selector_state.cur_user="current_user"();


	
DROP VIEW IF EXISTS v_edit_man_junction CASCADE;
CREATE OR REPLACE VIEW v_edit_man_junction AS 
SELECT 
v_node.node_id,
code AS junction_code,
top_elev AS junction_top_elev,
custom_top_elev AS junction_custom_top_elev,
ymax AS junction_ymax,
custom_ymax AS junction_custom_ymax,
elev AS junction_elev,
custom_elev AS junction_custom_elev,
sys_elev AS junction_sys_elev,
node_type,
nodecat_id,
epa_type,
sector_id,
macrosector_id,
state,
state_type,
annotation AS junction_annotation,
observ AS junction_observ,
comment AS junction_comment,
dma_id,
soilcat_id AS junction_soilcat_id,
function_type AS junction_function_type,
category_type AS junction_category_type,
fluid_type AS junction_fluid_type,
location_type AS junction_location_type,
workcat_id AS junction_workcat_id,
workcat_id_end AS junction_workcat_id_end,
buildercat_id AS junction_buildercat_id,
builtdate AS junction_builtdate,
enddate AS junction_enddate,
ownercat_id AS junction_ownercat_id,
v_node.muni_id AS junction_muni_id,
streetaxis_id AS junction_streetaxis_id,
address_01 AS junction_address_01,
address_02 AS junction_address_02,
address_03 AS junction_address_03,
descript AS junction_descript,
rotation AS junction_rotation,
cat_svg AS junction_cat_svg,
link AS junction_link,
verified,
the_geom,
undelete,
label_x AS junction_label_x,
label_y AS junction_label_y,
label_rotation AS junction_label_rotation,
publish,
inventory,
uncertain,
xyz_date AS junction_xyz_date,
unconnected,
macrodma_id,
expl_id,
num_value as junction_num_value
FROM v_node
	JOIN man_junction ON man_junction.node_id = v_node.node_id;
	
	 
DROP VIEW IF EXISTS v_edit_man_outfall CASCADE;
CREATE OR REPLACE VIEW v_edit_man_outfall AS 
SELECT 
v_node.node_id,
code AS outfall_code,
top_elev AS outfall_top_elev,
custom_top_elev AS outfall_custom_top_elev,
ymax AS outfall_ymax,
custom_ymax AS outfall_custom_ymax,
elev AS outfall_elev,
custom_elev AS outfall_custom_elev,
sys_elev AS outfall_sys_elev,
node_type,
nodecat_id,
epa_type,
sector_id,
macrosector_id,
state,
state_type,
annotation AS outfall_annotation,
observ AS outfall_observ,
comment AS outfall_comment,
dma_id,
soilcat_id AS outfall_soilcat_id,
function_type AS outfall_function_type,
category_type AS outfall_category_type,
fluid_type AS outfall_fluid_type,
location_type AS outfall_location_type,
workcat_id AS outfall_workcat_id,
workcat_id_end AS outfall_workcat_id_end,
buildercat_id AS outfall_buildercat_id,
builtdate AS outfall_builtdate,
enddate AS outfall_enddate,
ownercat_id AS outfall_ownercat_id,
v_node.muni_id AS outfall_muni_id,
streetaxis_id AS outfall_streetaxis_id,
address_01 AS outfall_address_01,
address_02 AS outfall_address_02,
address_03 AS outfall_address_03,
descript AS outfall_descript,
rotation AS outfall_rotation,
cat_svg AS outfall_cat_svg,
link AS outfall_link,
verified,
the_geom,
undelete,
label_x AS outfall_label_x,
label_y AS outfall_label_y,
label_rotation AS outfall_label_rotation,
publish,
inventory,
uncertain,
xyz_date AS outfall_xyz_date,
unconnected,
macrodma_id,
expl_id,
num_value as outfall_num_value,
man_outfall.name AS outfall_name
FROM v_node
	JOIN man_outfall ON man_outfall.node_id = v_node.node_id;
	
	
	 
DROP VIEW IF EXISTS v_edit_man_storage CASCADE;
CREATE OR REPLACE VIEW v_edit_man_storage AS 
SELECT 
v_node.node_id,
code as storage_code,
top_elev AS storage_top_elev,
custom_top_elev AS storage_custom_top_elev,
ymax AS storage_ymax,
custom_ymax AS storage_custom_ymax,
elev AS storage_elev,
custom_elev AS storage_custom_elev,
sys_elev AS storage_sys_elev,
node_type,
nodecat_id,
epa_type,
sector_id,
macrosector_id,
state,
state_type,
annotation AS storage_annotation,
observ AS storage_observ,
comment AS storage_comment,
dma_id,
soilcat_id AS storage_soilcat_id,
function_type AS storage_function_type,
category_type AS storage_category_type,
fluid_type AS storage_fluid_type,
location_type AS storage_location_type,
workcat_id AS storage_workcat_id,
workcat_id_end AS storage_workcat_id_end,
buildercat_id AS storage_buildercat_id,
builtdate AS storage_builtdate,
enddate AS storage_enddate,
ownercat_id AS storage_ownercat_id,
v_node.muni_id AS storage_muni_id,
streetaxis_id AS storage_streetaxis_id,
address_01 AS storage_address_01,
address_02 AS storage_address_02,
address_03 AS storage_address_03,
descript AS storage_descript,
rotation AS storage_rotation,
cat_svg AS storage_cat_svg,
link AS storage_link,
verified,
the_geom,
undelete,
label_x AS storage_label_x,
label_y AS storage_label_y,
label_rotation AS storage_label_rotation,
publish,
inventory,
uncertain,
xyz_date AS storage_xyz_date,
unconnected,
macrodma_id,
expl_id,
num_value as storage_num_value,
man_storage.pol_id as storage_pol_id,
man_storage.length as storage_length,
man_storage.width as storage_width,
man_storage.custom_area as storage_custom_area,
man_storage.max_volume AS storage_max_volume,
man_storage.util_volume AS storage_util_volume,
man_storage.min_height AS storage_min_height,
man_storage.accessibility AS storage_accessibility,
man_storage.name AS storage_name
FROM v_node
	JOIN man_storage ON man_storage.node_id = v_node.node_id;
	

	 

DROP VIEW IF EXISTS v_edit_man_storage_pol CASCADE;
CREATE OR REPLACE VIEW v_edit_man_storage_pol AS 
SELECT 
v_node.node_id,
code as storage_code,
top_elev AS storage_top_elev,
custom_top_elev AS storage_custom_top_elev,
ymax AS storage_ymax,
custom_ymax AS storage_custom_ymax,
elev AS storage_elev,
custom_elev AS storage_custom_elev,
sys_elev AS storage_sys_elev,
node_type,
nodecat_id,
epa_type,
sector_id,
macrosector_id,
state,
state_type,
annotation AS storage_annotation,
observ AS storage_observ,
comment AS storage_comment,
dma_id,
soilcat_id AS storage_soilcat_id,
function_type AS storage_function_type,
category_type AS storage_category_type,
fluid_type AS storage_fluid_type,
location_type AS storage_location_type,
workcat_id AS storage_workcat_id,
workcat_id_end AS storage_workcat_id_end,
buildercat_id AS storage_buildercat_id,
builtdate AS storage_builtdate,
enddate AS storage_enddate,
ownercat_id AS storage_ownercat_id,
v_node.muni_id AS storage_muni_id,
streetaxis_id AS storage_streetaxis_id,
address_01 AS storage_address_01,
address_02 AS storage_address_02,
address_03 AS storage_address_03,
descript AS storage_descript,
rotation AS storage_rotation,
cat_svg AS storage_cat_svg,
link AS storage_link,
verified,
polygon.the_geom,
v_node.undelete,
label_x AS storage_label_x,
label_y AS storage_label_y,
label_rotation AS storage_label_rotation,
publish,
inventory,
uncertain,
xyz_date AS storage_xyz_date,
unconnected,
macrodma_id,
expl_id,
num_value as storage_num_value,
man_storage.pol_id as storage_pol_id,
man_storage.length as storage_length,
man_storage.width as storage_width,
man_storage.custom_area as storage_custom_area,
man_storage.max_volume AS storage_max_volume,
man_storage.util_volume AS storage_util_volume,
man_storage.min_height AS storage_min_height,
man_storage.accessibility AS storage_accessibility,
man_storage.name AS storage_name
FROM v_node
	JOIN man_storage ON man_storage.node_id = v_node.node_id
	JOIN polygon ON polygon.pol_id = man_storage.pol_id;

	 
	 
	 
DROP VIEW IF EXISTS v_edit_man_valve CASCADE;
CREATE OR REPLACE VIEW v_edit_man_valve AS 
SELECT 
v_node.node_id,
code AS valve_code,
top_elev AS valve_top_elev,
custom_top_elev AS valve_custom_top_elev,
ymax AS valve_ymax,
custom_ymax AS valve_custom_ymax,
elev AS valve_elev,
custom_elev AS valve_custom_elev,
sys_elev AS valve_sys_elev,
node_type,
nodecat_id,
epa_type,
sector_id,
macrosector_id,
state,
state_type,
annotation AS valve_annotation,
observ AS valve_observ,
comment AS valve_comment,
dma_id,
soilcat_id AS valve_soilcat_id,
function_type AS valve_function_type,
category_type AS valve_category_type,
fluid_type AS valve_fluid_type,
location_type AS valve_location_type,
workcat_id AS valve_workcat_id,
workcat_id_end AS valve_workcat_id_end,
buildercat_id AS valve_buildercat_id,
builtdate AS valve_builtdate,
enddate AS valve_enddate,
ownercat_id AS valve_ownercat_id,
v_node.muni_id AS valve_muni_id,
streetaxis_id AS valve_streetaxis_id,
address_01 AS valve_address_01,
address_02 AS valve_address_02,
address_03 AS valve_address_03,
descript AS valve_descript,
rotation AS valve_rotation,
cat_svg AS valve_cat_svg,
link AS valve_link,
verified,
the_geom,
v_node.undelete,
label_x AS valve_label_x,
label_y AS valve_label_y,
label_rotation AS valve_label_rotation,
publish,
inventory,
uncertain,
xyz_date AS valve_xyz_date,
unconnected,
macrodma_id,
expl_id,
num_value as valve_num_value,
man_valve.name AS valve_name
FROM v_node
	JOIN man_valve ON man_valve.node_id = v_node.node_id;
	
	 
	 
DROP VIEW IF EXISTS v_edit_man_netinit CASCADE;
CREATE OR REPLACE VIEW v_edit_man_netinit AS 
SELECT 
v_node.node_id,
code AS netinit_code,
top_elev AS netinit_top_elev,
custom_top_elev AS netinit_custom_top_elev,
ymax AS netinit_ymax,
custom_ymax AS netinit_custom_ymax,
elev AS netinit_elev,
custom_elev AS netinit_custom_elev,
sys_elev AS netinit_sys_elev,
node_type,
nodecat_id,
epa_type,
sector_id,
macrosector_id,
state,
state_type,
annotation AS netinit_annotation,
observ AS netinit_observ,
comment AS netinit_comment,
dma_id,
soilcat_id AS netinit_soilcat_id,
function_type AS netinit_function_type,
category_type AS netinit_category_type,
fluid_type AS netinit_fluid_type,
location_type AS netinit_location_type,
workcat_id AS netinit_workcat_id,
workcat_id_end AS netinit_workcat_id_end,
buildercat_id AS netinit_buildercat_id,
builtdate AS netinit_builtdate,
enddate AS netinit_enddate,
ownercat_id AS netinit_ownercat_id,
v_node.muni_id AS netinit_muni_id,
streetaxis_id AS netinit_streetaxis_id,
address_01 AS netinit_address_01,
address_02 AS netinit_address_02,
address_03 AS netinit_address_03,
descript AS netinit_descript,
rotation AS netinit_rotation,
cat_svg AS netinit_cat_svg,
link AS netinit_link,
verified,
the_geom,
v_node.undelete,
label_x AS netinit_label_x,
label_y AS netinit_label_y,
label_rotation AS netinit_label_rotation,
publish,
inventory,
uncertain,
xyz_date AS netinit_xyz_date,
unconnected,
macrodma_id,
expl_id,
num_value as netinit_num_value,
man_netinit.length AS netinit_length,
man_netinit.width AS netinit_width,
man_netinit.inlet AS netinit_inlet,
man_netinit.bottom_channel AS netinit_bottom_channel,
man_netinit.accessibility AS netinit_accessibility,
man_netinit.name AS netinit_name,
man_netinit.sander_depth AS netinit_sander_depth
FROM v_node
	JOIN man_netinit ON man_netinit.node_id = v_node.node_id;


	 
DROP VIEW IF EXISTS v_edit_man_manhole CASCADE;
CREATE OR REPLACE VIEW v_edit_man_manhole AS 
SELECT 
v_node.node_id,
code AS manhole_code,
top_elev AS manhole_top_elev,
custom_top_elev AS manhole_custom_top_elev,
ymax AS manhole_ymax,
custom_ymax AS manhole_custom_ymax,
elev AS manhole_elev,
custom_elev AS manhole_custom_elev,
sys_elev AS manhole_sys_elev,
node_type,
nodecat_id,
epa_type,
sector_id,
macrosector_id,
state,
state_type,
annotation AS manhole_annotation,
observ AS manhole_observ,
comment AS manhole_comment,
dma_id,
soilcat_id AS manhole_soilcat_id,
function_type AS manhole_function_type,
category_type AS manhole_category_type,
fluid_type AS manhole_fluid_type,
location_type AS manhole_location_type,
workcat_id AS manhole_workcat_id,
workcat_id_end AS manhole_workcat_id_end,
buildercat_id AS manhole_buildercat_id,
builtdate AS manhole_builtdate,
enddate AS manhole_enddate,
ownercat_id AS manhole_ownercat_id,
v_node.muni_id AS manhole_muni_id,
streetaxis_id AS manhole_streetaxis_id,
address_01 AS manhole_address_01,
address_02 AS manhole_address_02,
address_03 AS manhole_address_03,
descript AS manhole_descript,
rotation AS manhole_rotation,
cat_svg AS manhole_cat_svg,
link AS manhole_link,
verified,
the_geom,
v_node.undelete,
label_x AS manhole_label_x,
label_y AS manhole_label_y,
label_rotation AS manhole_label_rotation,
publish,
inventory,
uncertain,
xyz_date AS manhole_xyz_date,
unconnected,
macrodma_id,
expl_id,
num_value as manhole_num_value,
man_manhole.length AS manhole_length,
man_manhole.width AS manhole_width,
man_manhole.sander_depth AS manhole_sander_depth,
man_manhole.prot_surface AS manhole_prot_surface,
man_manhole.inlet AS manhole_inlet,
man_manhole.bottom_channel AS manhole_bottom_channel,
man_manhole.accessibility AS manhole_accessibility
FROM v_node
	JOIN man_manhole ON man_manhole.node_id = v_node.node_id;
	

	 
DROP VIEW IF EXISTS v_edit_man_wjump CASCADE;
CREATE OR REPLACE VIEW v_edit_man_wjump AS 
SELECT 
v_node.node_id,
code AS wjump_code,
top_elev AS wjump_top_elev,
custom_top_elev AS wjump_custom_top_elev,
ymax AS wjump_ymax,
custom_ymax AS wjump_custom_ymax,
elev AS wjump_elev,
custom_elev AS wjump_custom_elev,
sys_elev AS wjump_sys_elev,
node_type,
nodecat_id,
epa_type,
sector_id,
macrosector_id,
state,
state_type,
annotation AS wjump_annotation,
observ AS wjump_observ,
comment AS wjump_comment,
dma_id,
soilcat_id AS wjump_soilcat_id,
function_type AS wjump_function_type,
category_type AS wjump_category_type,
fluid_type AS wjump_fluid_type,
location_type AS wjump_location_type,
workcat_id AS wjump_workcat_id,
workcat_id_end AS wjump_workcat_id_end,
buildercat_id AS wjump_buildercat_id,
builtdate AS wjump_builtdate,
enddate AS wjump_enddate,
ownercat_id AS wjump_ownercat_id,
v_node.muni_id AS wjump_muni_id,
streetaxis_id AS wjump_streetaxis_id,
address_01 AS wjump_address_01,
address_02 AS wjump_address_02,
address_03 AS wjump_address_03,
descript AS wjump_descript,
rotation AS wjump_rotation,
cat_svg AS wjump_cat_svg,
link AS wjump_link,
verified,
the_geom,
v_node.undelete,
label_x AS wjump_label_x,
label_y AS wjump_label_y,
label_rotation AS wjump_label_rotation,
publish,
inventory,
uncertain,
xyz_date AS wjump_xyz_date,
unconnected,
macrodma_id,
expl_id,
num_value as wjump_num_value,
man_wjump.length AS wjump_length,
man_wjump.width AS wjump_width,
man_wjump.sander_depth AS wjump_sander_depth,
man_wjump.prot_surface AS wjump_prot_surface,
man_wjump.accessibility AS wjump_accessibility,
man_wjump.name AS wjump_name
FROM v_node
	JOIN man_wjump ON man_wjump.node_id = v_node.node_id;


	 
DROP VIEW IF EXISTS v_edit_man_netgully CASCADE;
CREATE OR REPLACE VIEW v_edit_man_netgully AS 
SELECT 
v_node.node_id,
code AS netgully_code,
top_elev AS netgully_top_elev,
custom_top_elev AS netgully_custom_top_elev,
ymax AS netgully_ymax,
custom_ymax AS netgully_custom_ymax,
elev AS netgully_elev,
custom_elev AS netgully_custom_elev,
sys_elev AS netgully_sys_elev,
node_type,
nodecat_id,
epa_type,
sector_id,
macrosector_id,
state,
state_type,
annotation AS netgully_annotation,
observ AS netgully_observ,
comment AS netgully_comment,
dma_id,
soilcat_id AS netgully_soilcat_id,
function_type AS netgully_function_type,
category_type AS netgully_category_type,
fluid_type AS netgully_fluid_type,
location_type AS netgully_location_type,
workcat_id AS netgully_workcat_id,
workcat_id_end AS netgully_workcat_id_end,
buildercat_id AS netgully_buildercat_id,
builtdate AS netgully_builtdate,
enddate AS netgully_enddate,
ownercat_id AS netgully_ownercat_id,
v_node.muni_id AS netgully_muni_id,
v_node.streetaxis_id AS netgully_streetaxis_id,
man_netgully.postnumber AS netgully_postnumber,
address_01 AS netgully_address_01,
address_02 AS netgully_address_02,
address_03 AS netgully_address_03,
descript AS netgully_descript,
rotation AS netgully_rotation,
cat_svg AS netgully_cat_svg,
link AS netgully_link,
verified,
the_geom,
v_node.undelete,
label_x AS netgully_label_x,
label_y AS netgully_label_y,
label_rotation AS netgully_label_rotation,
publish,
inventory,
uncertain,
xyz_date AS netgully_xyz_date,
unconnected,
macrodma_id,
expl_id,
num_value as netgully_num_value,
man_netgully.pol_id AS netgully_pol_id,
man_netgully.sander_depth AS netgully_sander_depth,
man_netgully.gratecat_id AS netgully_gratecat_id,
man_netgully.units AS netgully_units,
man_netgully.groove AS netgully_groove,
man_netgully.siphon AS netgully_siphon
FROM v_node
	JOIN man_netgully ON man_netgully.node_id = v_node.node_id;

	 

DROP VIEW IF EXISTS v_edit_man_netgully_pol CASCADE;
CREATE OR REPLACE VIEW v_edit_man_netgully_pol AS 
SELECT 
v_node.node_id,
code AS netgully_code,
top_elev AS netgully_top_elev,
custom_top_elev AS netgully_custom_top_elev,
ymax AS netgully_ymax,
custom_ymax AS netgully_custom_ymax,
elev AS netgully_elev,
custom_elev AS netgully_custom_elev,
sys_elev AS netgully_sys_elev,
node_type,
nodecat_id,
epa_type,
sector_id,
macrosector_id,
state,
state_type,
annotation AS netgully_annotation,
observ AS netgully_observ,
comment AS netgully_comment,
dma_id,
soilcat_id AS netgully_soilcat_id,
function_type AS netgully_function_type,
category_type AS netgully_category_type,
fluid_type AS netgully_fluid_type,
location_type AS netgully_location_type,
workcat_id AS netgully_workcat_id,
workcat_id_end AS netgully_workcat_id_end,
buildercat_id AS netgully_buildercat_id,
builtdate AS netgully_builtdate,
enddate AS netgully_enddate,
ownercat_id AS netgully_ownercat_id,
v_node.muni_id AS netgully_muni_id,
v_node.streetaxis_id AS netgully_streetaxis_id,
man_netgully.postnumber AS netgully_postnumber,
address_01 AS netgully_address_01,
address_02 AS netgully_address_02,
address_03 AS netgully_address_03,
descript AS netgully_descript,
rotation AS netgully_rotation,
cat_svg AS netgully_cat_svg,
link AS netgully_link,
verified,
polygon.the_geom,
v_node.undelete,
label_x AS netgully_label_x,
label_y AS netgully_label_y,
label_rotation AS netgully_label_rotation,
publish,
inventory,
uncertain,
xyz_date AS netgully_xyz_date,
unconnected,
macrodma_id,
expl_id,
num_value as netgully_num_value,
man_netgully.pol_id AS netgully_pol_id,
man_netgully.sander_depth AS netgully_sander_depth,
man_netgully.gratecat_id AS netgully_gratecat_id,
man_netgully.units AS netgully_units,
man_netgully.groove AS netgully_groove,
man_netgully.siphon AS netgully_siphon
FROM v_node
	JOIN man_netgully ON man_netgully.node_id = v_node.node_id
	JOIN polygon ON polygon.pol_id = man_netgully.pol_id;



DROP VIEW IF EXISTS v_edit_man_chamber CASCADE;
CREATE OR REPLACE VIEW v_edit_man_chamber AS 
SELECT 
v_node.node_id,
code  AS chamber_code,
top_elev AS chamber_top_elev,
custom_top_elev AS chamber_custom_top_elev,
ymax AS chamber_ymax,
custom_ymax AS chamber_custom_ymax,
elev AS chamber_elev,
custom_elev AS chamber_custom_elev,
sys_elev AS chamber_sys_elev,
node_type,
nodecat_id,
epa_type,
sector_id,
macrosector_id,
state,
state_type,
annotation AS chamber_annotation,
observ AS chamber_observ,
comment AS chamber_comment,
dma_id,
soilcat_id AS chamber_soilcat_id,
function_type AS chamber_function_type,
category_type AS chamber_category_type,
fluid_type AS chamber_fluid_type,
location_type AS chamber_location_type,
workcat_id AS chamber_workcat_id,
workcat_id_end AS chamber_workcat_id_end,
buildercat_id AS chamber_buildercat_id,
builtdate AS chamber_builtdate,
enddate AS chamber_enddate,
ownercat_id AS chamber_ownercat_id,
v_node.muni_id AS chamber_muni_id,
streetaxis_id AS chamber_streetaxis_id,
address_01 AS chamber_address_01,
address_02 AS chamber_address_02,
address_03 AS chamber_address_03,
descript AS chamber_descript,
rotation AS chamber_rotation,
cat_svg AS chamber_cat_svg,
link AS chamber_link,
verified,
the_geom,
undelete,
label_x AS chamber_label_x,
label_y AS chamber_label_y,
label_rotation AS chamber_label_rotation,
publish,
inventory,
uncertain,
xyz_date AS chamber_xyz_date,
unconnected,
macrodma_id,
expl_id,
num_value as chamber_num_value,
man_chamber.pol_id AS chamber_pol_id,
man_chamber.length AS chamber_length,
man_chamber.width AS chamber_width,
man_chamber.sander_depth AS chamber_sander_depth,
man_chamber.max_volume AS chamber_max_volume,
man_chamber.util_volume AS chamber_util_volume,
man_chamber.inlet AS chamber_inlet,
man_chamber.bottom_channel AS chamber_bottom_channel,
man_chamber.accessibility AS chamber_accessibility,
man_chamber.name AS chamber_name
FROM v_node
    JOIN man_chamber ON man_chamber.node_id = v_node.node_id;
	 
	 
	 
DROP VIEW IF EXISTS v_edit_man_chamber_pol CASCADE;
CREATE OR REPLACE VIEW v_edit_man_chamber_pol AS 
SELECT 
v_node.node_id,
code  AS chamber_code,
top_elev AS chamber_top_elev,
custom_top_elev AS chamber_custom_top_elev,
ymax AS chamber_ymax,
custom_ymax AS chamber_custom_ymax,
elev AS chamber_elev,
custom_elev AS chamber_custom_elev,
sys_elev AS chamber_sys_elev,
node_type,
nodecat_id,
epa_type,
sector_id,
macrosector_id,
state,
state_type,
annotation AS chamber_annotation,
observ AS chamber_observ,
comment AS chamber_comment,
dma_id,
soilcat_id AS chamber_soilcat_id,
function_type AS chamber_function_type,
category_type AS chamber_category_type,
fluid_type AS chamber_fluid_type,
location_type AS chamber_location_type,
workcat_id AS chamber_workcat_id,
workcat_id_end AS chamber_workcat_id_end,
buildercat_id AS chamber_buildercat_id,
builtdate AS chamber_builtdate,
enddate AS chamber_enddate,
ownercat_id AS chamber_ownercat_id,
v_node.muni_id AS chamber_muni_id,
streetaxis_id AS chamber_streetaxis_id,
address_01 AS chamber_address_01,
address_02 AS chamber_address_02,
address_03 AS chamber_address_03,
descript AS chamber_descript,
rotation AS chamber_rotation,
cat_svg AS chamber_cat_svg,
link AS chamber_link,
verified,
polygon.the_geom,
v_node.undelete,
label_x AS chamber_label_x,
label_y AS chamber_label_y,
label_rotation AS chamber_label_rotation,
publish,
inventory,
uncertain,
xyz_date AS chamber_xyz_date,
unconnected,
macrodma_id,
expl_id,
num_value as chamber_num_value,
man_chamber.pol_id  AS chamber_pol_id,
man_chamber.length AS chamber_length,
man_chamber.width AS chamber_width,
man_chamber.sander_depth AS chamber_sander_depth,
man_chamber.max_volume AS chamber_max_volume,
man_chamber.util_volume AS chamber_util_volume,
man_chamber.inlet AS chamber_inlet,
man_chamber.bottom_channel AS chamber_bottom_channel,
man_chamber.accessibility AS chamber_accessibility,
man_chamber.name AS chamber_name
FROM v_node
	JOIN man_chamber ON man_chamber.node_id = v_node.node_id
	JOIN polygon ON polygon.pol_id = man_chamber.pol_id;



DROP VIEW IF EXISTS v_edit_man_wwtp CASCADE;
CREATE OR REPLACE VIEW v_edit_man_wwtp AS 
SELECT 
v_node.node_id,
code AS wwtp_code,
top_elev AS wwtp_top_elev,
custom_top_elev AS wwtp_custom_top_elev,
ymax AS wwtp_ymax,
custom_ymax AS wwtp_custom_ymax,
elev AS wwtp_elev,
custom_elev AS wwtp_custom_elev,
sys_elev AS wwtp_sys_elev,
node_type,
nodecat_id,
epa_type,
sector_id,
macrosector_id,
state,
state_type,
annotation AS wwtp_annotation,
observ AS wwtp_observ,
comment AS wwtp_comment,
dma_id,
soilcat_id AS wwtp_soilcat_id,
function_type AS wwtp_function_type,
category_type AS wwtp_category_type,
fluid_type AS wwtp_fluid_type,
location_type AS wwtp_location_type,
workcat_id AS wwtp_workcat_id,
workcat_id_end AS wwtp_workcat_id_end,
buildercat_id AS wwtp_buildercat_id,
builtdate AS wwtp_builtdate,
enddate AS wwtp_enddate,
ownercat_id AS wwtp_ownercat_id,
v_node.muni_id AS wwtp_muni_id,
streetaxis_id AS wwtp_streetaxis_id,
address_01 AS wwtp_address_01,
address_02 AS wwtp_address_02,
address_03 AS wwtp_address_03,
descript AS wwtp_descript,
rotation AS wwtp_rotation,
cat_svg AS wwtp_cat_svg,
link AS wwtp_link,
verified,
the_geom,
undelete,
label_x AS wwtp_label_x,
label_y AS wwtp_label_y,
label_rotation AS wwtp_label_rotation,
publish,
inventory,
uncertain,
xyz_date AS wwtp_xyz_date,
unconnected,
macrodma_id,
expl_id,
num_value as wwtp_num_value,
man_wwtp.pol_id AS wwtp_pol_id,
man_wwtp.name AS wwtp_name
FROM v_node
	JOIN man_wwtp ON man_wwtp.node_id = v_node.node_id;
	


DROP VIEW IF EXISTS v_edit_man_wwtp_pol CASCADE;
CREATE OR REPLACE VIEW v_edit_man_wwtp_pol AS 
SELECT 
v_node.node_id,
code AS wwtp_code,
top_elev AS wwtp_top_elev,
custom_top_elev AS wwtp_custom_top_elev,
ymax AS wwtp_ymax,
custom_ymax AS wwtp_custom_ymax,
elev AS wwtp_elev,
custom_elev AS wwtp_custom_elev,
sys_elev AS wwtp_sys_elev,
node_type,
nodecat_id,
epa_type,
sector_id,
macrosector_id,
state,
state_type,
annotation AS wwtp_annotation,
observ AS wwtp_observ,
comment AS wwtp_comment,
dma_id,
soilcat_id AS wwtp_soilcat_id,
function_type AS wwtp_function_type,
category_type AS wwtp_category_type,
fluid_type AS wwtp_fluid_type,
location_type AS wwtp_location_type,
workcat_id AS wwtp_workcat_id,
workcat_id_end AS wwtp_workcat_id_end,
buildercat_id AS wwtp_buildercat_id,
builtdate AS wwtp_builtdate,
enddate AS wwtp_enddate,
ownercat_id AS wwtp_ownercat_id,
v_node.muni_id AS wwtp_muni_id,
streetaxis_id AS wwtp_streetaxis_id,
address_01 AS wwtp_address_01,
address_02 AS wwtp_address_02,
address_03 AS wwtp_address_03,
descript AS wwtp_descript,
rotation AS wwtp_rotation,
cat_svg AS wwtp_cat_svg,
link AS wwtp_link,
verified,
polygon.the_geom,
v_node.undelete,
label_x AS wwtp_label_x,
label_y AS wwtp_label_y,
label_rotation AS wwtp_label_rotation,
publish,
inventory,
uncertain,
xyz_date AS wwtp_xyz_date,
unconnected,
macrodma_id,
expl_id,
num_value as wwtp_num_value,
man_wwtp.pol_id AS wwtp_pol_id, 
man_wwtp.name AS wwtp_name
FROM v_node
	JOIN man_wwtp ON man_wwtp.node_id = v_node.node_id
	JOIN polygon ON polygon.pol_id = man_wwtp.pol_id;
	


DROP VIEW IF EXISTS v_edit_man_netelement CASCADE;
CREATE OR REPLACE VIEW v_edit_man_netelement AS 
SELECT 
v_node.node_id,
code AS netelement_code,
top_elev AS netelement_top_elev,
custom_top_elev AS netelement_custom_top_elev,
ymax AS netelement_ymax,
custom_ymax AS netelement_custom_ymax,
elev AS netelement_elev,
custom_elev AS netelement_custom_elev,
sys_elev AS netelement_sys_elev,
node_type,
nodecat_id,
epa_type,
sector_id,
macrosector_id,
state,
state_type,
annotation AS netelement_annotation,
observ AS netelement_observ,
comment AS netelement_comment,
dma_id,
soilcat_id AS netelement_soilcat_id,
function_type AS netelement_function_type,
category_type AS netelement_category_type,
fluid_type AS netelement_fluid_type,
location_type AS netelement_location_type,
workcat_id AS netelement_workcat_id,
workcat_id_end AS netelement_workcat_id_end,
buildercat_id AS netelement_buildercat_id,
builtdate AS netelement_builtdate,
enddate AS netelement_enddate,
ownercat_id AS netelement_ownercat_id,
v_node.muni_id AS netelement_muni_id,
streetaxis_id AS netelement_streetaxis_id,
address_01 AS netelement_address_01,
address_02 AS netelement_address_02,
address_03 AS netelement_address_03,
descript AS netelement_descript,
rotation AS netelement_rotation,
cat_svg AS netelement_cat_svg,
link AS netelement_link,
verified,
the_geom,
undelete,
label_x AS netelement_label_x,
label_y AS netelement_label_y,
label_rotation AS netelement_label_rotation,
publish,
inventory,
uncertain,
xyz_date AS netelement_xyz_date,
unconnected,
macrodma_id,
expl_id,
num_value as netelement_num_value,
man_netelement.serial_number as netelement_serial_number
FROM v_node
	JOIN man_netelement ON man_netelement.node_id = v_node.node_id;



DROP VIEW IF EXISTS v_edit_man_conduit CASCADE;
CREATE OR REPLACE VIEW v_edit_man_conduit AS 
SELECT 
v_arc_x_node.arc_id,
code AS conduit_code,
node_1 AS conduit_node_1,
node_2 AS conduit_node_2,
y1 AS conduit_y1,
custom_y1 AS conduit_custom_y1,
elev1 AS conduit_elev1,
custom_elev1 AS conduit_custom_elev1,
sys_elev1 AS conduit_sys_elev1,
y2 AS conduit_y2,
elev2 AS conduit_elev2,
custom_y2 AS conduit_custom_y2,
custom_elev2 AS conduit_custom_elev2,	
sys_elev2 AS conduit_sys_elev2,
z1 AS conduit_z1,
z2 AS conduit_z2,
r1 AS conduit_r1,
r2 AS conduit_r2,
slope AS conduit_slope,
arc_type,
arccat_id,
matcat_id AS conduit_matcat_id,
shape AS conduit_cat_shape,
geom1 AS conduit_cat_geom1,
width AS conduit_cat_width,
gis_length AS conduit_gis_length,
epa_type,
sector_id,
macrosector_id,
state,
state_type,
annotation AS conduit_annotation,
observ AS conduit_observ,
comment AS conduit_comment,
inverted_slope AS conduit_inverted_slope,
custom_length AS conduit_custom_length,
dma_id,
soilcat_id AS conduit_soilcat_id,
function_type AS conduit_function_type,
category_type AS conduit_category_type,
fluid_type AS conduit_fluid_type,
location_type AS conduit_location_type,
workcat_id AS conduit_workcat_id,
workcat_id_end AS conduit_workcat_id_end,
buildercat_id AS conduit_buildercat_id,
builtdate AS conduit_builtdate,
enddate AS conduit_enddate,
ownercat_id AS conduit_ownercat_id,
muni_id AS conduit_muni_id,
streetaxis_id AS conduit_streetaxis_id,
address_01 AS conduit_address_01,
address_02 AS conduit_address_02,
address_03 AS conduit_address_03,
descript AS conduit_descript,
link AS conduit_link,
verified,
the_geom,
undelete,
label_x AS conduit_label_x,
label_y AS conduit_label_y,
label_rotation AS conduit_label_rotation,
publish,
inventory,
uncertain,
macrodma_id,
expl_id,
num_value as conduit_num_value
FROM v_arc_x_node
	JOIN man_conduit ON man_conduit.arc_id = v_arc_x_node.arc_id;



DROP VIEW IF EXISTS v_edit_man_siphon CASCADE;
CREATE OR REPLACE VIEW v_edit_man_siphon AS 
SELECT 
v_arc_x_node.arc_id,
code AS siphon_code,
node_1 AS siphon_node_1,
node_2 AS siphon_node_2,
y1 AS siphon_y1,
custom_y1 AS siphon_custom_y1,
elev1 AS siphon_elev1,
custom_elev1 AS siphon_custom_elev1,
sys_elev1 AS siphon_sys_elev1,
y2 AS siphon_y2,
elev2 AS siphon_elev2,
custom_y2 AS siphon_custom_y2,
custom_elev2 AS siphon_custom_elev2,	
sys_elev2 AS siphon_sys_elev2,
z1 AS siphon_z1,
z2 AS siphon_z2,
r1 AS siphon_r1,
r2 AS siphon_r2,
slope AS siphon_slope,
arc_type,
arccat_id,
matcat_id AS siphon_matcat_id,
shape AS siphon_cat_shape,
geom1 AS siphon_cat_geom1,
width AS siphon_cat_width,
gis_length AS siphon_gis_length,
epa_type,
sector_id,
macrosector_id,
state,
state_type,
annotation AS siphon_annotation,
observ AS siphon_observ,
comment AS siphon_comment,
inverted_slope AS siphon_inverted_slope,
custom_length AS siphon_custom_length,
dma_id,
soilcat_id AS siphon_soilcat_id,
function_type AS siphon_function_type,
category_type AS siphon_category_type,
fluid_type AS siphon_fluid_type,
location_type AS siphon_location_type,
workcat_id AS siphon_workcat_id,
workcat_id_end AS siphon_workcat_id_end,
buildercat_id AS siphon_buildercat_id,
builtdate AS siphon_builtdate,
enddate AS siphon_enddate,
ownercat_id AS siphon_ownercat_id,
muni_id AS siphon_muni_id,
streetaxis_id AS siphon_streetaxis_id,
address_01 AS siphon_address_01,
address_02 AS siphon_address_02,
address_03 AS siphon_address_03,
descript AS siphon_descript,
link AS siphon_link,
verified,
the_geom,
undelete,
label_x AS siphon_label_x,
label_y AS siphon_label_y,
label_rotation AS siphon_label_rotation,
publish,
inventory,
uncertain,
macrodma_id,
expl_id,
num_value as siphon_num_value,
man_siphon.name AS siphon_name
FROM v_arc_x_node
	JOIN man_siphon ON man_siphon.arc_id = v_arc_x_node.arc_id;



DROP VIEW IF EXISTS v_edit_man_waccel CASCADE;
CREATE OR REPLACE VIEW v_edit_man_waccel AS 
SELECT 
v_arc_x_node.arc_id,
node_1 AS waccel_node_1,
node_2 AS waccel_node_2,
y1 AS waccel_y1,
custom_y1 AS waccel_custom_y1,
elev1 AS waccel_elev1,
custom_elev1 AS waccel_custom_elev1,
sys_elev1 AS waccel_sys_elev1,
y2 AS waccel_y2,
elev2 AS waccel_elev2,
custom_y2 AS waccel_custom_y2,
custom_elev2 AS waccel_custom_elev2,	
sys_elev2 AS waccel_sys_elev2,
z1 AS waccel_z1,
z2 AS waccel_z2,
r1 AS waccel_r1,
r2 AS waccel_r2,
slope AS waccel_slope,
arc_type,
arccat_id,
matcat_id AS waccel_matcat_id,
shape AS waccel_cat_shape,
geom1 AS waccel_cat_geom1,
width AS waccel_cat_width,
gis_length AS waccel_gis_length,
epa_type,
sector_id,
macrosector_id,
state,
state_type,
annotation AS waccel_annotation,
observ AS waccel_observ,
comment AS waccel_comment,
inverted_slope AS waccel_inverted_slope,
custom_length AS waccel_custom_length,
dma_id,
soilcat_id AS waccel_soilcat_id,
function_type AS waccel_function_type,
category_type AS waccel_category_type,
fluid_type AS waccel_fluid_type,
location_type AS waccel_location_type,
workcat_id AS waccel_workcat_id,
workcat_id_end AS waccel_workcat_id_end,
buildercat_id AS waccel_buildercat_id,
builtdate AS waccel_builtdate,
enddate AS waccel_enddate,
ownercat_id AS waccel_ownercat_id,
muni_id AS waccel_muni_id,
streetaxis_id AS waccel_streetaxis_id,
address_01 AS waccel_address_01,
address_02 AS waccel_address_02,
address_03 AS waccel_address_03,
descript AS waccel_descript,
link AS waccel_link,
verified,
the_geom,
undelete,
label_x AS waccel_label_x,
label_y AS waccel_label_y,
label_rotation AS waccel_label_rotation,
code AS waccel_code,
publish,
inventory,
uncertain,
macrodma_id,
expl_id,
num_value as waccel_num_value,
man_waccel.sander_length AS waccel_sander_length,
man_waccel.sander_depth AS waccel_sander_depth,
man_waccel.prot_surface AS waccel_prot_surface,
man_waccel.name AS waccel_name,
man_waccel.accessibility AS waccel_accessibility
FROM v_arc_x_node
	JOIN man_waccel ON man_waccel.arc_id = v_arc_x_node.arc_id;



DROP VIEW IF EXISTS v_edit_man_varc CASCADE;
CREATE OR REPLACE VIEW v_edit_man_varc AS 
SELECT 
v_arc_x_node.arc_id,
code AS varc_code,
node_1 AS varc_node_1,
node_2 AS varc_node_2,
y1 AS varc_y1,
custom_y1 AS varc_custom_y1,
elev1 AS varc_elev1,
custom_elev1 AS varc_custom_elev1,
sys_elev1 AS varc_sys_elev1,
y2 AS varc_y2,
elev2 AS varc_elev2,
custom_y2 AS varc_custom_y2,
custom_elev2 AS varc_custom_elev2,	
sys_elev2 AS varc_sys_elev2,
z1 AS varc_z1,
z2 AS varc_z2,
r1 AS varc_r1,
r2 AS varc_r2,
slope AS varc_slope,
arc_type,
arccat_id,
matcat_id AS varc_matcat_id,
shape AS varc_cat_shape,
geom1 AS varc_cat_geom1,
gis_length AS varc_gis_length,
epa_type,
sector_id,
macrosector_id,
state,
state_type,
annotation AS varc_annotation,
observ AS varc_observ,
comment AS varc_comment,
inverted_slope AS varc_inverted_slope,
custom_length AS varc_custom_length,
dma_id,
soilcat_id AS varc_soilcat_id,
function_type AS varc_function_type,
category_type AS varc_category_type,
fluid_type AS varc_fluid_type,
location_type AS varc_location_type,
workcat_id AS varc_workcat_id,
workcat_id_end AS varc_workcat_id_end,
buildercat_id AS varc_buildercat_id,
builtdate AS varc_builtdate,
enddate AS varc_enddate,
ownercat_id AS varc_ownercat_id,
muni_id AS varc_muni_id,
streetaxis_id AS varc_streetaxis_id,
address_01 AS varc_address_01,
address_02 AS varc_address_02,
address_03 AS varc_address_03,
descript AS varc_descript,
link AS varc_link,
verified,
the_geom,
undelete,
label_x AS varc_label_x,
label_y AS varc_label_y,
label_rotation AS varc_label_rotation,
publish,
inventory,
uncertain,
macrodma_id,
expl_id,
num_value as varc_num_value
FROM v_arc_x_node
	JOIN man_varc ON man_varc.arc_id = v_arc_x_node.arc_id;




DROP VIEW IF EXISTS v_edit_man_connec CASCADE;
CREATE OR REPLACE VIEW v_edit_man_connec AS
SELECT * FROM v_edit_connec;


DROP VIEW IF EXISTS v_edit_man_gully CASCADE;
CREATE OR REPLACE VIEW v_edit_man_gully AS
SELECT * FROM v_edit_gully;


DROP VIEW IF EXISTS v_edit_man_gully_pol CASCADE;
CREATE OR REPLACE VIEW v_edit_man_gully_pol AS
SELECT * FROM v_edit_gully_pol



