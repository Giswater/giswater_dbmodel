/*
This file is part of Giswater 3
The program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.
This version of Giswater is provided by Giswater Association
*/


SET search_path = SCHEMA_NAME, public, pg_catalog;


CREATE TABLE audit_psector_arc_traceability (
	id serial4 NOT NULL,
	psector_id int4 NOT NULL,
	psector_state int2 NOT NULL,
	doable bool NOT NULL,
	addparam json NULL,
	audit_tstamp timestamp NULL DEFAULT now(),
	audit_user text NULL DEFAULT CURRENT_USER,
	action varchar(16) NOT NULL,
	arc_id varchar(16) NOT NULL,
	code varchar(30) NULL,
	node_1 varchar(16) NULL,
	node_2 varchar(16) NULL,
	arccat_id varchar(30) NOT NULL,
	epa_type varchar(16) NOT NULL,
	sector_id int4 NOT NULL,
	state int2 NOT NULL,
	state_type int2 NOT NULL,
	annotation text NULL,
	observ text NULL,
	"comment" text NULL,
	"_sys_length" numeric(12, 2) NULL,
	custom_length numeric(12, 2) NULL,
	dma_id int4 NOT NULL,
	presszone_id varchar(30) NULL,
	soilcat_id varchar(30) NULL,
	function_type varchar(50) NULL,
	category_type varchar(50) NULL,
	fluid_type varchar(50) NULL,
	location_type varchar(50) NULL,
	workcat_id varchar(255) NULL,
	workcat_id_end varchar(255) NULL,
	buildercat_id varchar(30) NULL,
	builtdate date NULL,
	enddate date NULL,
	ownercat_id varchar(30) NULL,
	muni_id int4 NULL,
	postcode varchar(16) NULL,
	streetaxis_id varchar(16) NULL,
	postnumber int4 NULL,
	postcomplement varchar(100) NULL,
	streetaxis2_id varchar(16) NULL,
	postnumber2 int4 NULL,
	postcomplement2 varchar(100) NULL,
	descript varchar(254) NULL,
	link varchar(512) NULL,
	verified varchar(30) NULL,
	the_geom public.geometry(linestring, SRID_VALUE) NULL,
	undelete bool NULL,
	label_x varchar(30) NULL,
	label_y varchar(30) NULL,
	label_rotation numeric(6, 3) NULL,
	publish bool NULL,
	inventory bool NULL,
	expl_id int4 NOT NULL,
	num_value numeric(12, 3) NULL,
	feature_type varchar(16) NULL,
	tstamp timestamp NULL,
	lastupdate timestamp NULL,
	lastupdate_user varchar(50) NULL,
	insert_user varchar(50) NULL,
	minsector_id int4 NULL,
	dqa_id int4 NULL,
	staticpressure numeric(12, 3) NULL,
	district_id int4 NULL,
	"depth" numeric(12, 3) NULL,
	adate text NULL,
	adescript text NULL,
	workcat_id_plan varchar(255) NULL,
	asset_id varchar(50) NULL,
	pavcat_id varchar(30) NULL,
	nodetype_1 varchar(30) NULL,
	elevation1 numeric(12, 4) NULL,
	depth1 numeric(12, 4) NULL,
	staticpress1 numeric(12, 3) NULL,
	nodetype_2 varchar(30) NULL,
	elevation2 numeric(12, 4) NULL,
	depth2 numeric(12, 4) NULL,
	staticpress2 numeric(12, 3) NULL,
	om_state text NULL,
	conserv_state text NULL,
	parent_id varchar(16) NULL,
	expl_id2 int4 NULL,
	CONSTRAINT audit_psector_arc_traceability_pkey PRIMARY KEY (id)
);


CREATE TABLE audit_psector_node_traceability (
	id serial4 NOT NULL,
	psector_id int4 NOT NULL,
	psector_state int2 NOT NULL,
	doable bool NOT NULL,
	addparam json NULL,
	audit_tstamp timestamp NULL DEFAULT now(),
	audit_user text NULL DEFAULT CURRENT_USER,
	action varchar(16) NOT NULL,
	node_id varchar(16) NOT NULL,
	code varchar(30) NULL,
	elevation numeric(12, 4) NULL,
	"depth" numeric(12, 4) NULL,
	nodecat_id varchar(30) NOT NULL,
	epa_type varchar(16) NOT NULL,
	sector_id int4 NOT NULL,
	arc_id varchar(16) NULL,
	parent_id varchar(16) NULL,
	state int2 NOT NULL,
	state_type int2 NOT NULL,
	annotation text NULL,
	observ text NULL,
	"comment" text NULL,
	dma_id int4 NOT NULL,
	presszone_id varchar(30) NULL,
	soilcat_id varchar(30) NULL,
	function_type varchar(50) NULL,
	category_type varchar(50) NULL,
	fluid_type varchar(50) NULL,
	location_type varchar(50) NULL,
	workcat_id varchar(255) NULL,
	workcat_id_end varchar(255) NULL,
	buildercat_id varchar(30) NULL,
	builtdate date NULL,
	enddate date NULL,
	ownercat_id varchar(30) NULL,
	muni_id int4 NULL,
	postcode varchar(16) NULL,
	streetaxis_id varchar(16) NULL,
	postnumber int4 NULL,
	postcomplement varchar(100) NULL,
	streetaxis2_id varchar(16) NULL,
	postnumber2 int4 NULL,
	postcomplement2 varchar(100) NULL,
	descript varchar(254) NULL,
	link varchar(512) NULL,
	verified varchar(30) NULL,
	rotation numeric(6, 3) NULL,
	the_geom public.geometry(point, SRID_VALUE) NULL,
	undelete bool NULL,
	label_x varchar(30) NULL,
	label_y varchar(30) NULL,
	label_rotation numeric(6, 3) NULL,
	publish bool NULL,
	inventory bool NULL,
	hemisphere float8 NULL,
	expl_id int4 NOT NULL,
	num_value numeric(12, 3) NULL,
	feature_type varchar(16) NULL,
	tstamp timestamp NULL,
	lastupdate timestamp NULL,
	lastupdate_user varchar(50) NULL,
	insert_user varchar(50) NULL,
	minsector_id int4 NULL,
	dqa_id int4 NULL,
	staticpressure numeric(12, 3) NULL,
	district_id int4 NULL,
	adate text NULL,
	adescript text NULL,
	accessibility int2 NULL,
	workcat_id_plan varchar(255) NULL,
	asset_id varchar(50) NULL,
	om_state text NULL,
	conserv_state text NULL,
	access_type text NULL,
	placement_type text NULL,
	expl_id2 int4 NULL,
	CONSTRAINT audit_psector_node_traceability_pkey PRIMARY KEY (id)
);


CREATE TABLE audit_psector_connec_traceability (
	id serial4 NOT NULL,
	psector_id int4 NOT NULL,
	psector_state int2 NOT NULL,
	doable bool NOT NULL,
	psector_arc_id varchar(16) NULL,
	link_id int4 NULL,
	link_the_geom public.geometry(linestring, SRID_VALUE) NULL,
	audit_tstamp timestamp NULL DEFAULT now(),
	audit_user text NULL DEFAULT CURRENT_USER,
	action varchar(16) NOT NULL,
	connec_id varchar(16) NOT NULL,
	code varchar(30) NULL,
	elevation numeric(12, 4) NULL,
	"depth" numeric(12, 4) NULL,
	connecat_id varchar(30) NOT NULL,
	sector_id int4 NOT NULL,
	customer_code varchar(30) NULL,
	state int2 NOT NULL,
	state_type int2 NOT NULL,
	arc_id varchar(16) NULL,
	connec_length numeric(12, 3) NULL,
	annotation text NULL,
	observ text NULL,
	"comment" text NULL,
	dma_id int4 NOT NULL,
	presszone_id varchar(30) NULL,
	soilcat_id varchar(16) NULL,
	function_type varchar(50) NULL,
	category_type varchar(50) NULL,
	fluid_type varchar(50) NULL,
	location_type varchar(50) NULL,
	workcat_id varchar(255) NULL,
	workcat_id_end varchar(255) NULL,
	buildercat_id varchar(30) NULL,
	builtdate date NULL,
	enddate date NULL,
	ownercat_id varchar(30) NULL,
	muni_id int4 NULL,
	postcode varchar(16) NULL,
	streetaxis_id varchar(16) NULL,
	postnumber int4 NULL,
	postcomplement varchar(100) NULL,
	streetaxis2_id varchar(16) NULL,
	postnumber2 int4 NULL,
	postcomplement2 varchar(100) NULL,
	descript text NULL,
	link varchar(512) NULL,
	verified varchar(20) NULL,
	rotation numeric(6, 3) NULL,
	the_geom public.geometry(point, SRID_VALUE) NULL,
	undelete bool NULL,
	label_x varchar(30) NULL,
	label_y varchar(30) NULL,
	label_rotation numeric(6, 3) NULL,
	publish bool NULL,
	inventory bool NULL,
	expl_id int4 NOT NULL,
	num_value numeric(12, 3) NULL,
	feature_type varchar(16) NULL,
	tstamp timestamp NULL,
	pjoint_type varchar(16) NULL,
	pjoint_id varchar(16) NULL,
	lastupdate timestamp NULL,
	lastupdate_user varchar(50) NULL,
	insert_user varchar(50) NULL,
	minsector_id int4 NULL,
	dqa_id int4 NULL,
	staticpressure numeric(12, 3) NULL,
	district_id int4 NULL,
	adate text NULL,
	adescript text NULL,
	accessibility int2 NULL,
	workcat_id_plan varchar(255) NULL,
	asset_id varchar(50) NULL,
	epa_type text NULL,
	om_state text NULL,
	conserv_state text NULL,
	priority text NULL,
	valve_location text NULL,
	valve_type text NULL,
	shutoff_valve text NULL,
	access_type text NULL,
	placement_type text NULL,
	crmzone_id int4 NULL,
	expl_id2 int4 NULL,
	CONSTRAINT audit_psector_connec_traceability_pkey PRIMARY KEY (id)
);



